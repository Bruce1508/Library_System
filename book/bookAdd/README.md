+---------------+     +---------------+     +----------------+
| Start         |---->| Check if user |---->| Branch by      |
| addBook()     |     | logged in     |     | login status   |
+---------------+     +---------------+     +-------+--------+
                                                    |
         +------------------------------------------+----------------------------+
         |                                                                       |
         v                                                                       v
+----------------+                                                    +------------------+
| Not logged in  |                                                    | Logged in        |
| Show error     |                                                    | Check library    |
| & return       |                                                    | capacity         |
+----------------+                                                    +--------+---------+
                                                                               |
                                                       +-------------------------+--------+
                                                       |                                  |
                                                       v                                  v
                                             +------------------+              +------------------+
                                             | Library full     |              | Space available  |
                                             | Show message     |              | for new book     |
                                             | & return         |              +---------+--------+
                                             +------------------+                        |
                                                                                         v
                      +-----------------------------------------------------------------------+
                      |                                                                       |
                      v                                                                       v
              +----------------+    +----------------+    +----------------+    +----------------+
              | Validate Book  |    | Validate Book  |    | Validate Book  |    | Validate Book  |
              | ID:            |--->| Title:         |--->| Author:        |--->| Category:      |
              | - Positive     |    | - Not empty    |    | - Not empty    |    | - Not empty    |
              | - Unique       |    +----------------+    +----------------+    +----------------+
              +----------------+                                                         |
                                                                                         v
              +----------------+    +----------------+    +----------------+    +----------------+
              | Validate       |    | Validate       |    | Validate       |    | Set borrowed=0 |
              | Publication    |<---| Price:         |<---| Quantity:      |<---| (Initial       |
              | Year: 1-2025   |    | - Positive     |    | - Positive     |    |  setting)      |
              +----------------+    +----------------+    +----------------+    +----------------+
                      |
                      v
              +----------------+    +----------------+    +----------------+
              | Show progress  |--->| Display        |--->| Increment      |---> Return
              | bar            |    | success        |    | book count     |
              | "Adding book"  |    | message        |    | (*count++)     |
              +----------------+    +----------------+    +----------------+